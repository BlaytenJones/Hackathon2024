<!DOCTYPE html>
<html>
  <head>
    <link rel="stylesheet" href="project.css">
  </head>

  <body>
    <div class="tab">
        <button class="tablinks" onclick="openCity(event, 'Leaderboard')">Leaderboard</button>
        <button class="tablinks" onclick="openCity(event, 'Images')">Images</button>
    </div>

    <div id="Leaderboard" class="tabcontent">
      <table id="myTable"></table>
        <head>
          <meta name="viewport" content="width=device-width, initial-scale=1">
        </head>
      </div>
  </body>

  <body>

<div id="Images" class="tabcontent">
    <input class="secretType" onblur="secretInfo(event)" type="text" name="name" />
    <div class="hiddenMessage" style="display: none;">hello!</div>
</div>


<script async type="module">
import { createClient } from 'https://esm.sh/@supabase/supabase-js@2.42.3'
// Create a single supabase client for interacting with your database
const supabase = createClient('https://xaikweglkzlnhwcljwae.supabase.co', 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InhhaWt3ZWdsa3psbmh3Y2xqd2FlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MTI5ODUyNzYsImV4cCI6MjAyODU2MTI3Nn0.HbZeBiyRRmVfadJ2Y3AjQUsQGVVNfsuf5lFdG3jWS8c')

const { data, error } = await supabase
  .from('User Data')
  .select();
  
  console.log(data);
  generateTable(data);
</script>


    <script>
    function openCity(evt, cityName) {
      var i, tabcontent, tablinks;
      tabcontent = document.getElementsByClassName("tabcontent");
      for (i = 0; i < tabcontent.length; i++) {
        tabcontent[i].style.display = "none";
      }
      tablinks = document.getElementsByClassName("tablinks");
      for (i = 0; i < tablinks.length; i++) {
        tablinks[i].className = tablinks[i].className.replace(" active", "");
      }
      document.getElementById(cityName).style.display = "block";
      evt.currentTarget.className += " active";
    }

    function secretInfo(event)
    {
        secret = document.getElementsByClassName("secretType")[0].value;
        if (secret == 111)
        {
            document.getElementsByClassName("hiddenMessage")[0].style="display: inline;";
        }
        else
        {
            document.getElementsByClassName("hiddenMessage")[0].style="display: none;";
        }
        
    }

  function generateTable(data) {
// Find a <table> element with id="myTable":
  var table = document.getElementById("myTable");
// Insert new cells (<td> elements) at the 1st and 2nd position of the "new" <tr> element:
for (i in data)
{
  var row = table.insertRow(0);
  var cell1 = row.insertCell(0);
  var cell2 = row.insertCell(1);
  cell1.innerHTML = data[i].Username;
  cell2.innerHTML = data[i].Score;
}
var header = table.createTHead();
  var row = header.insertRow(0);  
  var usernameHeader = row.insertCell(0);
  var scoreHeader = row.insertCell(1);
  usernameHeader.innerHTML = "<b>Username</b>";
  scoreHeader.innerHTML = "<b>Score</b>";
console.log("ran")
}
    </script>  
  </body>
</html> 